import{S as dl,i as pl,s as ml,e as a,k as _,w as N,t as n,M as fl,c as i,d as r,m as h,x as T,a as u,h as l,b as P,F as t,g as p,y as F,o as $,p as et,q as g,B as S,v as _l,n as tt}from"../../chunks/vendor-1e8b365d.js";import{Y as ul}from"../../chunks/Youtube-c2a8cc39.js";import{I as Bt}from"../../chunks/IconCopyLink-483c28ba.js";import{C as U}from"../../chunks/CodeBlock-e5764662.js";import{D as cl}from"../../chunks/DocNotebookDropdown-37d928d3.js";import{F as hl}from"../../chunks/FrameworkSwitchCourse-7f8f0f31.js";function vl(E){let o,d;return o=new cl({props:{classNames:"absolute z-10 right-0 top-0",options:[{label:"Google Colab",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter2/section3_tf.ipynb"},{label:"Aws Studio",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter2/section3_tf.ipynb"}]}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function bl(E){let o,d;return o=new cl({props:{classNames:"absolute z-10 right-0 top-0",options:[{label:"Google Colab",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/chapter2/section3_pt.ipynb"},{label:"Aws Studio",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/chapter2/section3_pt.ipynb"}]}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function $l(E){let o,d;return o=new ul({props:{id:"d3JVgghSOew"}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function gl(E){let o,d;return o=new ul({props:{id:"AhChOFRegn4"}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function El(E){let o,d,s,m,w,q,v,M,C,k,A,L,D,B,O,x,z;return{c(){o=a("p"),d=n("Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=a("code"),m=n("TFAutoModel"),w=n(" qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),q=_(),v=a("p"),M=n("La classe "),C=a("code"),k=n("TFAutoModel"),A=n(" et toutes les classes apparent\xE9es sont en fait de simples "),L=a("em"),D=n("wrappers"),B=n(" sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=a("em"),x=n("checkpoint"),z=n(" et ensuite instancier un mod\xE8le avec cette architecture.")},l(y){o=i(y,"P",{});var j=u(o);d=l(j,"Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=i(j,"CODE",{});var I=u(s);m=l(I,"TFAutoModel"),I.forEach(r),w=l(j," qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),j.forEach(r),q=h(y),v=i(y,"P",{});var f=u(v);M=l(f,"La classe "),C=i(f,"CODE",{});var b=u(C);k=l(b,"TFAutoModel"),b.forEach(r),A=l(f," et toutes les classes apparent\xE9es sont en fait de simples "),L=i(f,"EM",{});var H=u(L);D=l(H,"wrappers"),H.forEach(r),B=l(f," sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=i(f,"EM",{});var R=u(O);x=l(R,"checkpoint"),R.forEach(r),z=l(f," et ensuite instancier un mod\xE8le avec cette architecture."),f.forEach(r)},m(y,j){p(y,o,j),t(o,d),t(o,s),t(s,m),t(o,w),p(y,q,j),p(y,v,j),t(v,M),t(v,C),t(C,k),t(v,A),t(v,L),t(L,D),t(v,B),t(v,O),t(O,x),t(v,z)},d(y){y&&r(o),y&&r(q),y&&r(v)}}}function kl(E){let o,d,s,m,w,q,v,M,C,k,A,L,D,B,O,x,z;return{c(){o=a("p"),d=n("Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=a("code"),m=n("AutoModel"),w=n(" qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),q=_(),v=a("p"),M=n("La classe "),C=a("code"),k=n("AutoModel"),A=n(" et toutes les classes apparent\xE9es sont en fait de simples "),L=a("em"),D=n("wrappers"),B=n(" sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=a("em"),x=n("checkpoint"),z=n(" et ensuite instancier un mod\xE8le avec cette architecture.")},l(y){o=i(y,"P",{});var j=u(o);d=l(j,"Dans cette section, nous allons examiner de plus pr\xE8s la cr\xE9ation et l\u2019utilisation d\u2019un mod\xE8le. Nous utiliserons la classe "),s=i(j,"CODE",{});var I=u(s);m=l(I,"AutoModel"),I.forEach(r),w=l(j," qui est pratique lorsque vous voulez instancier n\u2019importe quel mod\xE8le \xE0 partir d\u2019un checkpoint."),j.forEach(r),q=h(y),v=i(y,"P",{});var f=u(v);M=l(f,"La classe "),C=i(f,"CODE",{});var b=u(C);k=l(b,"AutoModel"),b.forEach(r),A=l(f," et toutes les classes apparent\xE9es sont en fait de simples "),L=i(f,"EM",{});var H=u(L);D=l(H,"wrappers"),H.forEach(r),B=l(f," sur la grande vari\xE9t\xE9 de mod\xE8les disponibles dans la biblioth\xE8que. C\u2019est une enveloppe intelligente car elle peut automatiquement deviner l\u2019architecture appropri\xE9e pour votre "),O=i(f,"EM",{});var R=u(O);x=l(R,"checkpoint"),R.forEach(r),z=l(f," et ensuite instancier un mod\xE8le avec cette architecture."),f.forEach(r)},m(y,j){p(y,o,j),t(o,d),t(o,s),t(s,m),t(o,w),p(y,q,j),p(y,v,j),t(v,M),t(v,C),t(C,k),t(v,A),t(v,L),t(L,D),t(v,B),t(v,O),t(O,x),t(v,z)},d(y){y&&r(o),y&&r(q),y&&r(v)}}}function ql(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, TFBertModel

# Construire la configuration
config = BertConfig()

# Construire le mod\xE8le \xE0 partir de la configuration
model = TFBertModel(config)`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, TFBertModel

<span class="hljs-comment"># Construire la configuration</span>
config = BertConfig()

<span class="hljs-comment"># Construire le mod\xE8le \xE0 partir de la configuration</span>
model = TFBertModel(config)`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function yl(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, BertModel

# Construire la configuration
config = BertConfig()

# Construire le mod\xE8le \xE0 partir de la configuration
model = BertModel(config)`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, BertModel

<span class="hljs-comment"># Construire la configuration</span>
config = BertConfig()

<span class="hljs-comment"># Construire le mod\xE8le \xE0 partir de la configuration</span>
model = BertModel(config)`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function wl(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, TFBertModel

config = BertConfig()
model = TFBertModel(config)

# Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, TFBertModel

config = BertConfig()
model = TFBertModel(config)

<span class="hljs-comment"># Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !</span>`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Ml(E){let o,d;return o=new U({props:{code:`from transformers import BertConfig, BertModel

config = BertConfig()
model = BertModel(config)

# Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertConfig, BertModel

config = BertConfig()
model = BertModel(config)

<span class="hljs-comment"># Le mod\xE8le est initialis\xE9 de fa\xE7on al\xE9atoire !</span>`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Cl(E){let o,d,s,m,w,q,v,M,C,k,A,L,D,B,O,x,z,y,j,I;return o=new U({props:{code:`from transformers import TFBertModel

model = TFBertModel.from_pretrained("bert-base-cased")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> TFBertModel

model = TFBertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)`}}),{c(){N(o.$$.fragment),d=_(),s=a("p"),m=n("Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=a("code"),q=n("TFBertModel"),v=n(" par la classe \xE9quivalente "),M=a("code"),C=n("TFAutoModel"),k=n(". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=a("em"),L=n("checkpoint"),D=n(", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=a("em"),O=n("checkpoint"),x=n(" donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=a("em"),y=n("checkpoint"),j=n(" a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments).")},l(f){T(o.$$.fragment,f),d=h(f),s=i(f,"P",{});var b=u(s);m=l(b,"Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=i(b,"CODE",{});var H=u(w);q=l(H,"TFBertModel"),H.forEach(r),v=l(b," par la classe \xE9quivalente "),M=i(b,"CODE",{});var R=u(M);C=l(R,"TFAutoModel"),R.forEach(r),k=l(b,". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=i(b,"EM",{});var X=u(A);L=l(X,"checkpoint"),X.forEach(r),D=l(b,", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=i(b,"EM",{});var Y=u(B);O=l(Y,"checkpoint"),Y.forEach(r),x=l(b," donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=i(b,"EM",{});var be=u(z);y=l(be,"checkpoint"),be.forEach(r),j=l(b," a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments)."),b.forEach(r)},m(f,b){F(o,f,b),p(f,d,b),p(f,s,b),t(s,m),t(s,w),t(w,q),t(s,v),t(s,M),t(M,C),t(s,k),t(s,A),t(A,L),t(s,D),t(s,B),t(B,O),t(s,x),t(s,z),t(z,y),t(s,j),I=!0},i(f){I||(g(o.$$.fragment,f),I=!0)},o(f){$(o.$$.fragment,f),I=!1},d(f){S(o,f),f&&r(d),f&&r(s)}}}function jl(E){let o,d,s,m,w,q,v,M,C,k,A,L,D,B,O,x,z,y,j,I;return o=new U({props:{code:`from transformers import BertModel

model = BertModel.from_pretrained("bert-base-cased")`,highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> BertModel

model = BertModel.from_pretrained(<span class="hljs-string">&quot;bert-base-cased&quot;</span>)`}}),{c(){N(o.$$.fragment),d=_(),s=a("p"),m=n("Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=a("code"),q=n("BertModel"),v=n(" par la classe \xE9quivalente "),M=a("code"),C=n("AutoModel"),k=n(". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=a("em"),L=n("checkpoint"),D=n(", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=a("em"),O=n("checkpoint"),x=n(" donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=a("em"),y=n("checkpoint"),j=n(" a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments).")},l(f){T(o.$$.fragment,f),d=h(f),s=i(f,"P",{});var b=u(s);m=l(b,"Comme vu pr\xE9c\xE9demment, nous pouvons remplacer "),w=i(b,"CODE",{});var H=u(w);q=l(H,"BertModel"),H.forEach(r),v=l(b," par la classe \xE9quivalente "),M=i(b,"CODE",{});var R=u(M);C=l(R,"AutoModel"),R.forEach(r),k=l(b,". A partir de maintenant nous ferons cela car cela produit un code agnostique "),A=i(b,"EM",{});var X=u(A);L=l(X,"checkpoint"),X.forEach(r),D=l(b,", c\u2019est-\xE0-dire que si votre code fonctionne pour un "),B=i(b,"EM",{});var Y=u(B);O=l(Y,"checkpoint"),Y.forEach(r),x=l(b," donn\xE9, il devrait fonctionner sans probl\xE8me avec un autre. Cela s\u2019applique m\xEAme si l\u2019architecture est diff\xE9rente du moment que le "),z=i(b,"EM",{});var be=u(z);y=l(be,"checkpoint"),be.forEach(r),j=l(b," a \xE9t\xE9 entra\xEEn\xE9 pour une t\xE2che similaire (par exemple, une t\xE2che d\u2019analyse de sentiments)."),b.forEach(r)},m(f,b){F(o,f,b),p(f,d,b),p(f,s,b),t(s,m),t(s,w),t(w,q),t(s,v),t(s,M),t(M,C),t(s,k),t(s,A),t(A,L),t(s,D),t(s,B),t(B,O),t(s,x),t(s,z),t(z,y),t(s,j),I=!0},i(f){I||(g(o.$$.fragment,f),I=!0)},o(f){$(o.$$.fragment,f),I=!1},d(f){S(o,f),f&&r(d),f&&r(s)}}}function Bl(E){let o,d;return o=new U({props:{code:`ls directory_on_my_computer

config.json tf_model.h5`,highlighted:`ls <span class="hljs-keyword">directory_on_my_computer
</span>
<span class="hljs-built_in">config</span>.<span class="hljs-keyword">json </span>tf_model.h5`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function zl(E){let o,d;return o=new U({props:{code:`ls directory_on_my_computer

config.json pytorch_model.bin`,highlighted:`ls <span class="hljs-keyword">directory_on_my_computer
</span>
<span class="hljs-built_in">config</span>.<span class="hljs-keyword">json </span>pytorch_model.<span class="hljs-keyword">bin</span>`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Pl(E){let o,d,s,m,w,q,v,M;return{c(){o=a("p"),d=n("Le fichier "),s=a("em"),m=n("tf_model.h5"),w=n(" est connu comme le "),q=a("em"),v=n("dictionnaire d\u2019\xE9tat"),M=n(". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le.")},l(C){o=i(C,"P",{});var k=u(o);d=l(k,"Le fichier "),s=i(k,"EM",{});var A=u(s);m=l(A,"tf_model.h5"),A.forEach(r),w=l(k," est connu comme le "),q=i(k,"EM",{});var L=u(q);v=l(L,"dictionnaire d\u2019\xE9tat"),L.forEach(r),M=l(k,". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le."),k.forEach(r)},m(C,k){p(C,o,k),t(o,d),t(o,s),t(s,m),t(o,w),t(o,q),t(q,v),t(o,M)},d(C){C&&r(o)}}}function Ll(E){let o,d,s,m,w,q,v,M;return{c(){o=a("p"),d=n("Le fichier "),s=a("em"),m=n("pytorch_model.bin"),w=n(" est connu comme le "),q=a("em"),v=n("dictionnaire d\u2019\xE9tat"),M=n(". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le.")},l(C){o=i(C,"P",{});var k=u(o);d=l(k,"Le fichier "),s=i(k,"EM",{});var A=u(s);m=l(A,"pytorch_model.bin"),A.forEach(r),w=l(k," est connu comme le "),q=i(k,"EM",{});var L=u(q);v=l(L,"dictionnaire d\u2019\xE9tat"),L.forEach(r),M=l(k,". Il contient tous les poids de votre mod\xE8le. Les deux fichiers vont de pair : la configuration est n\xE9cessaire pour conna\xEEtre l\u2019architecture de votre mod\xE8le, tandis que les poids du mod\xE8le sont les param\xE8tres de votre mod\xE8le."),k.forEach(r)},m(C,k){p(C,o,k),t(o,d),t(o,s),t(s,m),t(o,w),t(o,q),t(q,v),t(o,M)},d(C){C&&r(o)}}}function Al(E){let o,d;return o=new U({props:{code:`import tensorflow as tf

model_inputs = tf.constant(encoded_sequences)`,highlighted:`<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf

model_inputs = tf.constant(encoded_sequences)`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function Dl(E){let o,d;return o=new U({props:{code:`import torch

model_inputs = torch.tensor(encoded_sequences)`,highlighted:`<span class="hljs-keyword">import</span> torch

model_inputs = torch.tensor(encoded_sequences)`}}),{c(){N(o.$$.fragment)},l(s){T(o.$$.fragment,s)},m(s,m){F(o,s,m),d=!0},i(s){d||(g(o.$$.fragment,s),d=!0)},o(s){$(o.$$.fragment,s),d=!1},d(s){S(o,s)}}}function xl(E){let o,d,s,m,w,q,v,M,C,k,A,L,D,B,O,x,z,y,j,I,f,b,H,R,X,Y,be,rt,es,zt,ts,hr,st,rs,vr,Z,ee,ot,nt,ss,br,De,$r,xe,gr,V,os,Pt,ns,ls,Lt,as,is,At,us,cs,Dt,ds,ps,Er,$e,we,xt,Ne,ms,Nt,fs,kr,lt,_s,qr,te,re,at,Me,hs,it,vs,bs,yr,ue,$s,Tt,gs,Es,Ft,ks,qs,wr,se,oe,ut,G,ys,St,ws,Ms,Ot,Cs,js,It,Bs,zs,Te,Ps,Ls,Mr,ce,As,Ht,Ds,xs,Rt,Ns,Ts,Cr,K,Fs,Ut,Ss,Os,Vt,Is,Hs,Gt,Rs,Us,jr,Q,Vs,Jt,Gs,Js,Yt,Ys,Ks,Fe,Qs,Ws,Br,ge,Ce,Kt,Se,Xs,Qt,Zs,zr,de,eo,Wt,to,ro,Xt,so,oo,Pr,Oe,Lr,ct,no,Ar,ne,le,dt,J,lo,Zt,ao,io,er,uo,co,tr,po,mo,rr,fo,_o,Dr,pt,Ee,je,sr,Ie,ho,or,vo,xr,W,bo,nr,$o,go,lr,Eo,ko,ar,qo,yo,Nr,pe,wo,ir,Mo,Co,ur,jo,Bo,Tr,mt,zo,Fr,He,Sr,me,Po,cr,Lo,Ao,dr,Do,xo,Or,Re,Ir,ft,No,Hr,ae,ie,_t,ke,Be,pr,Ue,To,mr,Fo,Rr,ht,So,Ur,Ve,Vr,fe,Oo,fr,Io,Ho,_r,Ro,Uo,Gr;s=new hl({props:{fw:E[0]}}),M=new Bt({});const Go=[bl,vl],Ge=[];function Jo(e,c){return e[0]==="pt"?0:1}D=Jo(E),B=Ge[D]=Go[D](E);const Yo=[gl,$l],Je=[];function Ko(e,c){return e[0]==="pt"?0:1}x=Ko(E),z=Je[x]=Yo[x](E);function Qo(e,c){return e[0]==="pt"?kl:El}let Jr=Qo(E),qe=Jr(E);Y=new Bt({});const Wo=[yl,ql],Ye=[];function Xo(e,c){return e[0]==="pt"?0:1}Z=Xo(E),ee=Ye[Z]=Wo[Z](E),De=new U({props:{code:"print(config)",highlighted:'<span class="hljs-built_in">print</span>(config)'}}),xe=new U({props:{code:`BertConfig {
  [...]
  "hidden_size": 768,
  "intermediate_size": 3072,
  "max_position_embeddings": 512,
  "num_attention_heads": 12,
  "num_hidden_layers": 12,
  [...]
}`,highlighted:`BertConfig {
  [...]
  <span class="hljs-string">&quot;hidden_size&quot;</span>: <span class="hljs-number">768</span>,
  <span class="hljs-string">&quot;intermediate_size&quot;</span>: <span class="hljs-number">3072</span>,
  <span class="hljs-string">&quot;max_position_embeddings&quot;</span>: <span class="hljs-number">512</span>,
  <span class="hljs-string">&quot;num_attention_heads&quot;</span>: <span class="hljs-number">12</span>,
  <span class="hljs-string">&quot;num_hidden_layers&quot;</span>: <span class="hljs-number">12</span>,
  [...]
}`}}),Ne=new Bt({});const Zo=[Ml,wl],Ke=[];function en(e,c){return e[0]==="pt"?0:1}te=en(E),re=Ke[te]=Zo[te](E);const tn=[jl,Cl],Qe=[];function rn(e,c){return e[0]==="pt"?0:1}se=rn(E),oe=Qe[se]=tn[se](E),Se=new Bt({}),Oe=new U({props:{code:'model.save_pretrained("directory_on_my_computer")',highlighted:'model.save_pretrained(<span class="hljs-string">&quot;directory_on_my_computer&quot;</span>)'}});const sn=[zl,Bl],We=[];function on(e,c){return e[0]==="pt"?0:1}ne=on(E),le=We[ne]=sn[ne](E);function nn(e,c){return e[0]==="pt"?Ll:Pl}let Yr=nn(E),ye=Yr(E);Ie=new Bt({}),He=new U({props:{code:'sequences = ["Hello!", "Cool.", "Nice!"]',highlighted:'sequences = [<span class="hljs-string">&quot;Hello!&quot;</span>, <span class="hljs-string">&quot;Cool.&quot;</span>, <span class="hljs-string">&quot;Nice!&quot;</span>]'}}),Re=new U({props:{code:`encoded_sequences = [
    [101, 7592, 999, 102],
    [101, 4658, 1012, 102],
    [101, 3835, 999, 102],
]`,highlighted:`encoded_sequences = [
    [<span class="hljs-number">101</span>, <span class="hljs-number">7592</span>, <span class="hljs-number">999</span>, <span class="hljs-number">102</span>],
    [<span class="hljs-number">101</span>, <span class="hljs-number">4658</span>, <span class="hljs-number">1012</span>, <span class="hljs-number">102</span>],
    [<span class="hljs-number">101</span>, <span class="hljs-number">3835</span>, <span class="hljs-number">999</span>, <span class="hljs-number">102</span>],
]`}});const ln=[Dl,Al],Xe=[];function an(e,c){return e[0]==="pt"?0:1}return ae=an(E),ie=Xe[ae]=ln[ae](E),Ue=new Bt({}),Ve=new U({props:{code:"output = model(model_inputs)",highlighted:"output = model(model_inputs)"}}),{c(){o=a("meta"),d=_(),N(s.$$.fragment),m=_(),w=a("h1"),q=a("a"),v=a("span"),N(M.$$.fragment),C=_(),k=a("span"),A=n("Les mod\xE8les"),L=_(),B.c(),O=_(),z.c(),y=_(),qe.c(),j=_(),I=a("p"),f=n("Cependant, si vous connaissez le type de mod\xE8le que vous voulez utiliser, vous pouvez utiliser directement la classe qui d\xE9finit son architecture. Voyons comment cela fonctionne avec un mod\xE8le BERT."),b=_(),H=a("h2"),R=a("a"),X=a("span"),N(Y.$$.fragment),be=_(),rt=a("span"),es=n("Cr\xE9ation d\u2019un "),zt=a("i"),ts=n("transformer"),hr=_(),st=a("p"),rs=n("La premi\xE8re chose que nous devons faire pour initialiser un mod\xE8le BERT est de charger un objet configuration :"),vr=_(),ee.c(),ot=_(),nt=a("p"),ss=n("La configuration contient de nombreux attributs qui sont utilis\xE9s pour construire le mod\xE8le :"),br=_(),N(De.$$.fragment),$r=_(),N(xe.$$.fragment),gr=_(),V=a("p"),os=n("Bien que vous n\u2019ayez pas encore vu ce que font tous ces attributs, vous devriez en reconna\xEEtre certains : l\u2019attribut "),Pt=a("code"),ns=n("hidden_size"),ls=n(" d\xE9finit la taille du vecteur "),Lt=a("code"),as=n("hidden_states"),is=n(", et "),At=a("code"),us=n("num_hidden_layers"),cs=n(" d\xE9finit le nombre de couches que le "),Dt=a("em"),ds=n("transformer"),ps=n(" poss\xE8de."),Er=_(),$e=a("h3"),we=a("a"),xt=a("span"),N(Ne.$$.fragment),ms=_(),Nt=a("span"),fs=n("Diff\xE9rentes m\xE9thodes de chargement"),kr=_(),lt=a("p"),_s=n("Un mod\xE8le cr\xE9\xE9 \xE0 partir de la configuration par d\xE9faut est initialis\xE9 avec des valeurs al\xE9atoires :"),qr=_(),re.c(),at=_(),Me=a("p"),hs=n("Le mod\xE8le peut \xEAtre utilis\xE9 tel quel mais il produira du charabia. En effet, il doit d\u2019abord \xEAtre entra\xEEn\xE9. Nous pourrions entra\xEEner le mod\xE8le \xE0 partir de z\xE9ro sur la t\xE2che qui nous int\xE9resse mais comme vous l\u2019avez vu dans le "),it=a("a"),vs=n("chapitre 1"),bs=n(" cela n\xE9cessiterait beaucoup de temps et de donn\xE9es. De plus cela aurait un impact environnemental non n\xE9gligeable. Pour \xE9viter les efforts inutiles et redondants, il est imp\xE9ratif de pouvoir partager et r\xE9utiliser les mod\xE8les qui ont d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9s."),yr=_(),ue=a("p"),$s=n("Charger un "),Tt=a("em"),gs=n("transformer"),Es=n(" qui a d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9 est simple : nous pouvons le faire en utilisant la m\xE9thode "),Ft=a("code"),ks=n("from_pretrained()"),qs=n(" :"),wr=_(),oe.c(),ut=_(),G=a("p"),ys=n("Dans l\u2019exemple de code ci-dessus, nous n\u2019avons pas utilis\xE9 "),St=a("code"),ws=n("BertConfig"),Ms=n(" et avons \xE0 la place charg\xE9 un mod\xE8le pr\xE9-entra\xEEn\xE9 via l\u2019identifiant "),Ot=a("code"),Cs=n("bert-base-cased"),js=n(". Il s\u2019agit d\u2019un "),It=a("em"),Bs=n("checkpoint"),zs=n(" qui a \xE9t\xE9 entra\xEEn\xE9 par les auteurs de BERT eux-m\xEAmes. Vous pouvez trouver davantage de d\xE9tails \xE0 son sujet dans la "),Te=a("a"),Ps=n("fiche du mod\xE8le"),Ls=n("."),Mr=_(),ce=a("p"),As=n("Ce mod\xE8le est maintenant initialis\xE9 avec tous les poids du "),Ht=a("em"),Ds=n("checkpoint"),xs=n(". Il peut \xEAtre utilis\xE9 directement pour l\u2019inf\xE9rence sur les t\xE2ches sur lesquelles il a \xE9t\xE9 entra\xEEn\xE9. Il peut \xE9galement \xEAtre "),Rt=a("em"),Ns=n("finetun\xE9"),Ts=n(" sur une nouvelle t\xE2che. En entra\xEEnant avec des poids pr\xE9-entra\xEEn\xE9s plut\xF4t qu\u2019\xE0 partir de z\xE9ro, nous pouvons rapidement obtenir de bons r\xE9sultats."),Cr=_(),K=a("p"),Fs=n("Les poids ont \xE9t\xE9 t\xE9l\xE9charg\xE9s et mis en cache (afin que les futurs appels \xE0 la m\xE9thode "),Ut=a("code"),Ss=n("from_pretrained()"),Os=n(" ne les ret\xE9l\xE9chargent pas) dans le dossier cache, qui est par d\xE9faut "),Vt=a("em"),Is=n("~/.cache/huggingface/transformers"),Hs=n(". Vous pouvez personnaliser votre dossier de cache en d\xE9finissant la variable d\u2019environnement "),Gt=a("code"),Rs=n("HF_HOME"),Us=n("."),jr=_(),Q=a("p"),Vs=n("L\u2019identifiant utilis\xE9 pour charger le mod\xE8le peut \xEAtre l\u2019identifiant de n\u2019importe quel mod\xE8le sur le "),Jt=a("em"),Gs=n("Model Hub"),Js=n(" du moment qu\u2019il est compatible avec l\u2019architecture BERT. La liste compl\xE8te des "),Yt=a("em"),Ys=n("checkpoints"),Ks=n(" de BERT disponibles peut \xEAtre trouv\xE9e "),Fe=a("a"),Qs=n("ici"),Ws=n("."),Br=_(),ge=a("h3"),Ce=a("a"),Kt=a("span"),N(Se.$$.fragment),Xs=_(),Qt=a("span"),Zs=n("M\xE9thodes de sauvegarde"),zr=_(),de=a("p"),eo=n("Sauvegarder un mod\xE8le est aussi facile que d\u2019en charger un. Nous utilisons la m\xE9thode "),Wt=a("code"),to=n("save_pretrained()"),ro=n(", qui est analogue \xE0 la m\xE9thode "),Xt=a("code"),so=n("from_pretrained()"),oo=n(" :"),Pr=_(),N(Oe.$$.fragment),Lr=_(),ct=a("p"),no=n("Cela enregistre deux fichiers sur votre disque :"),Ar=_(),le.c(),dt=_(),J=a("p"),lo=n("Si vous jetez un coup d\u2019\u0153il au fichier "),Zt=a("em"),ao=n("config.json"),io=n(", vous reconna\xEEtrez les attributs n\xE9cessaires pour construire l\u2019architecture du mod\xE8le. Ce fichier contient \xE9galement certaines m\xE9tadonn\xE9es, comme l\u2019origine du "),er=a("em"),uo=n("checkpoint"),co=n(" et la version de la biblioth\xE8que \u{1F917} "),tr=a("em"),po=n("Transformers"),mo=n(" que vous utilisiez lors du dernier enregistrement du point "),rr=a("em"),fo=n("checkpoint"),_o=n("."),Dr=_(),ye.c(),pt=_(),Ee=a("h3"),je=a("a"),sr=a("span"),N(Ie.$$.fragment),ho=_(),or=a("span"),vo=n("Utilisation d'un *transformer* pour l'inf\xE9rence"),xr=_(),W=a("p"),bo=n("Maintenant que vous savez comment charger et sauvegarder un mod\xE8le, essayons de l\u2019utiliser pour faire quelques pr\xE9dictions. Les "),nr=a("em"),$o=n("transformers"),go=n(" ne peuvent traiter que des nombres. Des nombres que le "),lr=a("em"),Eo=n("tokenizer"),ko=n(" g\xE9n\xE8re. Mais avant de parler des "),ar=a("em"),qo=n("tokenizers"),yo=n(", explorons les entr\xE9es que le mod\xE8le accepte."),Nr=_(),pe=a("p"),wo=n("Les "),ir=a("em"),Mo=n("tokenizers"),Co=n(" se chargent de passer les entr\xE9es vers les tenseurs du "),ur=a("em"),jo=n("framework"),Bo=n(" appropri\xE9. Pour vous aider \xE0 comprendre ce qui se passe, jetons un coup d\u2019\u0153il rapide \xE0 ce qui doit \xEAtre fait avant d\u2019envoyer les entr\xE9es au mod\xE8le."),Tr=_(),mt=a("p"),zo=n("Disons que nous avons les s\xE9quences suivantes :"),Fr=_(),N(He.$$.fragment),Sr=_(),me=a("p"),Po=n("Le "),cr=a("em"),Lo=n("tokenizer"),Ao=n(" les convertit en indices de vocabulaire qui sont g\xE9n\xE9ralement appel\xE9s "),dr=a("em"),Do=n("input IDs"),xo=n(". Chaque s\xE9quence est maintenant une liste de nombres ! La sortie r\xE9sultante est :"),Or=_(),N(Re.$$.fragment),Ir=_(),ft=a("p"),No=n("Il s\u2019agit d\u2019une liste de s\xE9quences encod\xE9es : une liste de listes. Les tenseurs n\u2019acceptent que des formes rectangulaires (pensez aux matrices). Ce \xAB tableau \xBB est d\xE9j\xE0 de forme rectangulaire, donc le convertir en tenseur est facile :"),Hr=_(),ie.c(),_t=_(),ke=a("h3"),Be=a("a"),pr=a("span"),N(Ue.$$.fragment),To=_(),mr=a("span"),Fo=n("Utilisation des tenseurs comme entr\xE9es du mod\xE8le"),Rr=_(),ht=a("p"),So=n("L\u2019utilisation des tenseurs avec le mod\xE8le est extr\xEAmement simple, il suffit d\u2019appeler le mod\xE8le avec les entr\xE9es :"),Ur=_(),N(Ve.$$.fragment),Vr=_(),fe=a("p"),Oo=n("Bien que le mod\xE8le accepte un grand nombre d\u2019arguments diff\xE9rents, seuls les identifiants d\u2019entr\xE9e sont n\xE9cessaires. Nous expliquerons plus tard ce que font les autres arguments et quand ils sont n\xE9cessaires. Avant cela, regardons de plus pr\xE8s les "),fr=a("em"),Io=n("tokenizers"),Ho=n(", cet outil qui construit les entr\xE9es qu\u2019un "),_r=a("em"),Ro=n("transformer"),Uo=n(" peut comprendre."),this.h()},l(e){const c=fl('[data-svelte="svelte-1phssyn"]',document.head);o=i(c,"META",{name:!0,content:!0}),c.forEach(r),d=h(e),T(s.$$.fragment,e),m=h(e),w=i(e,"H1",{class:!0});var Ze=u(w);q=i(Ze,"A",{id:!0,class:!0,href:!0});var vt=u(q);v=i(vt,"SPAN",{});var bt=u(v);T(M.$$.fragment,bt),bt.forEach(r),vt.forEach(r),C=h(Ze),k=i(Ze,"SPAN",{});var $t=u(k);A=l($t,"Les mod\xE8les"),$t.forEach(r),Ze.forEach(r),L=h(e),B.l(e),O=h(e),z.l(e),y=h(e),qe.l(e),j=h(e),I=i(e,"P",{});var gt=u(I);f=l(gt,"Cependant, si vous connaissez le type de mod\xE8le que vous voulez utiliser, vous pouvez utiliser directement la classe qui d\xE9finit son architecture. Voyons comment cela fonctionne avec un mod\xE8le BERT."),gt.forEach(r),b=h(e),H=i(e,"H2",{class:!0});var ze=u(H);R=i(ze,"A",{id:!0,class:!0,href:!0});var Et=u(R);X=i(Et,"SPAN",{});var kt=u(X);T(Y.$$.fragment,kt),kt.forEach(r),Et.forEach(r),be=h(ze),rt=i(ze,"SPAN",{});var Vo=u(rt);es=l(Vo,"Cr\xE9ation d\u2019un "),zt=i(Vo,"I",{});var un=u(zt);ts=l(un,"transformer"),un.forEach(r),Vo.forEach(r),ze.forEach(r),hr=h(e),st=i(e,"P",{});var cn=u(st);rs=l(cn,"La premi\xE8re chose que nous devons faire pour initialiser un mod\xE8le BERT est de charger un objet configuration :"),cn.forEach(r),vr=h(e),ee.l(e),ot=h(e),nt=i(e,"P",{});var dn=u(nt);ss=l(dn,"La configuration contient de nombreux attributs qui sont utilis\xE9s pour construire le mod\xE8le :"),dn.forEach(r),br=h(e),T(De.$$.fragment,e),$r=h(e),T(xe.$$.fragment,e),gr=h(e),V=i(e,"P",{});var _e=u(V);os=l(_e,"Bien que vous n\u2019ayez pas encore vu ce que font tous ces attributs, vous devriez en reconna\xEEtre certains : l\u2019attribut "),Pt=i(_e,"CODE",{});var pn=u(Pt);ns=l(pn,"hidden_size"),pn.forEach(r),ls=l(_e," d\xE9finit la taille du vecteur "),Lt=i(_e,"CODE",{});var mn=u(Lt);as=l(mn,"hidden_states"),mn.forEach(r),is=l(_e,", et "),At=i(_e,"CODE",{});var fn=u(At);us=l(fn,"num_hidden_layers"),fn.forEach(r),cs=l(_e," d\xE9finit le nombre de couches que le "),Dt=i(_e,"EM",{});var _n=u(Dt);ds=l(_n,"transformer"),_n.forEach(r),ps=l(_e," poss\xE8de."),_e.forEach(r),Er=h(e),$e=i(e,"H3",{class:!0});var Kr=u($e);we=i(Kr,"A",{id:!0,class:!0,href:!0});var hn=u(we);xt=i(hn,"SPAN",{});var vn=u(xt);T(Ne.$$.fragment,vn),vn.forEach(r),hn.forEach(r),ms=h(Kr),Nt=i(Kr,"SPAN",{});var bn=u(Nt);fs=l(bn,"Diff\xE9rentes m\xE9thodes de chargement"),bn.forEach(r),Kr.forEach(r),kr=h(e),lt=i(e,"P",{});var $n=u(lt);_s=l($n,"Un mod\xE8le cr\xE9\xE9 \xE0 partir de la configuration par d\xE9faut est initialis\xE9 avec des valeurs al\xE9atoires :"),$n.forEach(r),qr=h(e),re.l(e),at=h(e),Me=i(e,"P",{});var Qr=u(Me);hs=l(Qr,"Le mod\xE8le peut \xEAtre utilis\xE9 tel quel mais il produira du charabia. En effet, il doit d\u2019abord \xEAtre entra\xEEn\xE9. Nous pourrions entra\xEEner le mod\xE8le \xE0 partir de z\xE9ro sur la t\xE2che qui nous int\xE9resse mais comme vous l\u2019avez vu dans le "),it=i(Qr,"A",{href:!0});var gn=u(it);vs=l(gn,"chapitre 1"),gn.forEach(r),bs=l(Qr," cela n\xE9cessiterait beaucoup de temps et de donn\xE9es. De plus cela aurait un impact environnemental non n\xE9gligeable. Pour \xE9viter les efforts inutiles et redondants, il est imp\xE9ratif de pouvoir partager et r\xE9utiliser les mod\xE8les qui ont d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9s."),Qr.forEach(r),yr=h(e),ue=i(e,"P",{});var qt=u(ue);$s=l(qt,"Charger un "),Tt=i(qt,"EM",{});var En=u(Tt);gs=l(En,"transformer"),En.forEach(r),Es=l(qt," qui a d\xE9j\xE0 \xE9t\xE9 entra\xEEn\xE9 est simple : nous pouvons le faire en utilisant la m\xE9thode "),Ft=i(qt,"CODE",{});var kn=u(Ft);ks=l(kn,"from_pretrained()"),kn.forEach(r),qs=l(qt," :"),qt.forEach(r),wr=h(e),oe.l(e),ut=h(e),G=i(e,"P",{});var he=u(G);ys=l(he,"Dans l\u2019exemple de code ci-dessus, nous n\u2019avons pas utilis\xE9 "),St=i(he,"CODE",{});var qn=u(St);ws=l(qn,"BertConfig"),qn.forEach(r),Ms=l(he," et avons \xE0 la place charg\xE9 un mod\xE8le pr\xE9-entra\xEEn\xE9 via l\u2019identifiant "),Ot=i(he,"CODE",{});var yn=u(Ot);Cs=l(yn,"bert-base-cased"),yn.forEach(r),js=l(he,". Il s\u2019agit d\u2019un "),It=i(he,"EM",{});var wn=u(It);Bs=l(wn,"checkpoint"),wn.forEach(r),zs=l(he," qui a \xE9t\xE9 entra\xEEn\xE9 par les auteurs de BERT eux-m\xEAmes. Vous pouvez trouver davantage de d\xE9tails \xE0 son sujet dans la "),Te=i(he,"A",{href:!0,rel:!0});var Mn=u(Te);Ps=l(Mn,"fiche du mod\xE8le"),Mn.forEach(r),Ls=l(he,"."),he.forEach(r),Mr=h(e),ce=i(e,"P",{});var yt=u(ce);As=l(yt,"Ce mod\xE8le est maintenant initialis\xE9 avec tous les poids du "),Ht=i(yt,"EM",{});var Cn=u(Ht);Ds=l(Cn,"checkpoint"),Cn.forEach(r),xs=l(yt,". Il peut \xEAtre utilis\xE9 directement pour l\u2019inf\xE9rence sur les t\xE2ches sur lesquelles il a \xE9t\xE9 entra\xEEn\xE9. Il peut \xE9galement \xEAtre "),Rt=i(yt,"EM",{});var jn=u(Rt);Ns=l(jn,"finetun\xE9"),jn.forEach(r),Ts=l(yt," sur une nouvelle t\xE2che. En entra\xEEnant avec des poids pr\xE9-entra\xEEn\xE9s plut\xF4t qu\u2019\xE0 partir de z\xE9ro, nous pouvons rapidement obtenir de bons r\xE9sultats."),yt.forEach(r),Cr=h(e),K=i(e,"P",{});var Pe=u(K);Fs=l(Pe,"Les poids ont \xE9t\xE9 t\xE9l\xE9charg\xE9s et mis en cache (afin que les futurs appels \xE0 la m\xE9thode "),Ut=i(Pe,"CODE",{});var Bn=u(Ut);Ss=l(Bn,"from_pretrained()"),Bn.forEach(r),Os=l(Pe," ne les ret\xE9l\xE9chargent pas) dans le dossier cache, qui est par d\xE9faut "),Vt=i(Pe,"EM",{});var zn=u(Vt);Is=l(zn,"~/.cache/huggingface/transformers"),zn.forEach(r),Hs=l(Pe,". Vous pouvez personnaliser votre dossier de cache en d\xE9finissant la variable d\u2019environnement "),Gt=i(Pe,"CODE",{});var Pn=u(Gt);Rs=l(Pn,"HF_HOME"),Pn.forEach(r),Us=l(Pe,"."),Pe.forEach(r),jr=h(e),Q=i(e,"P",{});var Le=u(Q);Vs=l(Le,"L\u2019identifiant utilis\xE9 pour charger le mod\xE8le peut \xEAtre l\u2019identifiant de n\u2019importe quel mod\xE8le sur le "),Jt=i(Le,"EM",{});var Ln=u(Jt);Gs=l(Ln,"Model Hub"),Ln.forEach(r),Js=l(Le," du moment qu\u2019il est compatible avec l\u2019architecture BERT. La liste compl\xE8te des "),Yt=i(Le,"EM",{});var An=u(Yt);Ys=l(An,"checkpoints"),An.forEach(r),Ks=l(Le," de BERT disponibles peut \xEAtre trouv\xE9e "),Fe=i(Le,"A",{href:!0,rel:!0});var Dn=u(Fe);Qs=l(Dn,"ici"),Dn.forEach(r),Ws=l(Le,"."),Le.forEach(r),Br=h(e),ge=i(e,"H3",{class:!0});var Wr=u(ge);Ce=i(Wr,"A",{id:!0,class:!0,href:!0});var xn=u(Ce);Kt=i(xn,"SPAN",{});var Nn=u(Kt);T(Se.$$.fragment,Nn),Nn.forEach(r),xn.forEach(r),Xs=h(Wr),Qt=i(Wr,"SPAN",{});var Tn=u(Qt);Zs=l(Tn,"M\xE9thodes de sauvegarde"),Tn.forEach(r),Wr.forEach(r),zr=h(e),de=i(e,"P",{});var wt=u(de);eo=l(wt,"Sauvegarder un mod\xE8le est aussi facile que d\u2019en charger un. Nous utilisons la m\xE9thode "),Wt=i(wt,"CODE",{});var Fn=u(Wt);to=l(Fn,"save_pretrained()"),Fn.forEach(r),ro=l(wt,", qui est analogue \xE0 la m\xE9thode "),Xt=i(wt,"CODE",{});var Sn=u(Xt);so=l(Sn,"from_pretrained()"),Sn.forEach(r),oo=l(wt," :"),wt.forEach(r),Pr=h(e),T(Oe.$$.fragment,e),Lr=h(e),ct=i(e,"P",{});var On=u(ct);no=l(On,"Cela enregistre deux fichiers sur votre disque :"),On.forEach(r),Ar=h(e),le.l(e),dt=h(e),J=i(e,"P",{});var ve=u(J);lo=l(ve,"Si vous jetez un coup d\u2019\u0153il au fichier "),Zt=i(ve,"EM",{});var In=u(Zt);ao=l(In,"config.json"),In.forEach(r),io=l(ve,", vous reconna\xEEtrez les attributs n\xE9cessaires pour construire l\u2019architecture du mod\xE8le. Ce fichier contient \xE9galement certaines m\xE9tadonn\xE9es, comme l\u2019origine du "),er=i(ve,"EM",{});var Hn=u(er);uo=l(Hn,"checkpoint"),Hn.forEach(r),co=l(ve," et la version de la biblioth\xE8que \u{1F917} "),tr=i(ve,"EM",{});var Rn=u(tr);po=l(Rn,"Transformers"),Rn.forEach(r),mo=l(ve," que vous utilisiez lors du dernier enregistrement du point "),rr=i(ve,"EM",{});var Un=u(rr);fo=l(Un,"checkpoint"),Un.forEach(r),_o=l(ve,"."),ve.forEach(r),Dr=h(e),ye.l(e),pt=h(e),Ee=i(e,"H3",{class:!0});var Xr=u(Ee);je=i(Xr,"A",{id:!0,class:!0,href:!0});var Vn=u(je);sr=i(Vn,"SPAN",{});var Gn=u(sr);T(Ie.$$.fragment,Gn),Gn.forEach(r),Vn.forEach(r),ho=h(Xr),or=i(Xr,"SPAN",{});var Jn=u(or);vo=l(Jn,"Utilisation d'un *transformer* pour l'inf\xE9rence"),Jn.forEach(r),Xr.forEach(r),xr=h(e),W=i(e,"P",{});var Ae=u(W);bo=l(Ae,"Maintenant que vous savez comment charger et sauvegarder un mod\xE8le, essayons de l\u2019utiliser pour faire quelques pr\xE9dictions. Les "),nr=i(Ae,"EM",{});var Yn=u(nr);$o=l(Yn,"transformers"),Yn.forEach(r),go=l(Ae," ne peuvent traiter que des nombres. Des nombres que le "),lr=i(Ae,"EM",{});var Kn=u(lr);Eo=l(Kn,"tokenizer"),Kn.forEach(r),ko=l(Ae," g\xE9n\xE8re. Mais avant de parler des "),ar=i(Ae,"EM",{});var Qn=u(ar);qo=l(Qn,"tokenizers"),Qn.forEach(r),yo=l(Ae,", explorons les entr\xE9es que le mod\xE8le accepte."),Ae.forEach(r),Nr=h(e),pe=i(e,"P",{});var Mt=u(pe);wo=l(Mt,"Les "),ir=i(Mt,"EM",{});var Wn=u(ir);Mo=l(Wn,"tokenizers"),Wn.forEach(r),Co=l(Mt," se chargent de passer les entr\xE9es vers les tenseurs du "),ur=i(Mt,"EM",{});var Xn=u(ur);jo=l(Xn,"framework"),Xn.forEach(r),Bo=l(Mt," appropri\xE9. Pour vous aider \xE0 comprendre ce qui se passe, jetons un coup d\u2019\u0153il rapide \xE0 ce qui doit \xEAtre fait avant d\u2019envoyer les entr\xE9es au mod\xE8le."),Mt.forEach(r),Tr=h(e),mt=i(e,"P",{});var Zn=u(mt);zo=l(Zn,"Disons que nous avons les s\xE9quences suivantes :"),Zn.forEach(r),Fr=h(e),T(He.$$.fragment,e),Sr=h(e),me=i(e,"P",{});var Ct=u(me);Po=l(Ct,"Le "),cr=i(Ct,"EM",{});var el=u(cr);Lo=l(el,"tokenizer"),el.forEach(r),Ao=l(Ct," les convertit en indices de vocabulaire qui sont g\xE9n\xE9ralement appel\xE9s "),dr=i(Ct,"EM",{});var tl=u(dr);Do=l(tl,"input IDs"),tl.forEach(r),xo=l(Ct,". Chaque s\xE9quence est maintenant une liste de nombres ! La sortie r\xE9sultante est :"),Ct.forEach(r),Or=h(e),T(Re.$$.fragment,e),Ir=h(e),ft=i(e,"P",{});var rl=u(ft);No=l(rl,"Il s\u2019agit d\u2019une liste de s\xE9quences encod\xE9es : une liste de listes. Les tenseurs n\u2019acceptent que des formes rectangulaires (pensez aux matrices). Ce \xAB tableau \xBB est d\xE9j\xE0 de forme rectangulaire, donc le convertir en tenseur est facile :"),rl.forEach(r),Hr=h(e),ie.l(e),_t=h(e),ke=i(e,"H3",{class:!0});var Zr=u(ke);Be=i(Zr,"A",{id:!0,class:!0,href:!0});var sl=u(Be);pr=i(sl,"SPAN",{});var ol=u(pr);T(Ue.$$.fragment,ol),ol.forEach(r),sl.forEach(r),To=h(Zr),mr=i(Zr,"SPAN",{});var nl=u(mr);Fo=l(nl,"Utilisation des tenseurs comme entr\xE9es du mod\xE8le"),nl.forEach(r),Zr.forEach(r),Rr=h(e),ht=i(e,"P",{});var ll=u(ht);So=l(ll,"L\u2019utilisation des tenseurs avec le mod\xE8le est extr\xEAmement simple, il suffit d\u2019appeler le mod\xE8le avec les entr\xE9es :"),ll.forEach(r),Ur=h(e),T(Ve.$$.fragment,e),Vr=h(e),fe=i(e,"P",{});var jt=u(fe);Oo=l(jt,"Bien que le mod\xE8le accepte un grand nombre d\u2019arguments diff\xE9rents, seuls les identifiants d\u2019entr\xE9e sont n\xE9cessaires. Nous expliquerons plus tard ce que font les autres arguments et quand ils sont n\xE9cessaires. Avant cela, regardons de plus pr\xE8s les "),fr=i(jt,"EM",{});var al=u(fr);Io=l(al,"tokenizers"),al.forEach(r),Ho=l(jt,", cet outil qui construit les entr\xE9es qu\u2019un "),_r=i(jt,"EM",{});var il=u(_r);Ro=l(il,"transformer"),il.forEach(r),Uo=l(jt," peut comprendre."),jt.forEach(r),this.h()},h(){P(o,"name","hf:doc:metadata"),P(o,"content",JSON.stringify(Nl)),P(q,"id","les-modles"),P(q,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(q,"href","#les-modles"),P(w,"class","relative group"),P(R,"id","cration-dun-itransformeri"),P(R,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(R,"href","#cration-dun-itransformeri"),P(H,"class","relative group"),P(we,"id","diffrentes-mthodes-de-chargement"),P(we,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(we,"href","#diffrentes-mthodes-de-chargement"),P($e,"class","relative group"),P(it,"href","/course/fr/chapter1"),P(Te,"href","https://huggingface.co/bert-base-cased"),P(Te,"rel","nofollow"),P(Fe,"href","https://huggingface.co/models?filter=bert"),P(Fe,"rel","nofollow"),P(Ce,"id","mthodes-de-sauvegarde"),P(Ce,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(Ce,"href","#mthodes-de-sauvegarde"),P(ge,"class","relative group"),P(je,"id","utilisation-dun-transformer-pour-linfrence"),P(je,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(je,"href","#utilisation-dun-transformer-pour-linfrence"),P(Ee,"class","relative group"),P(Be,"id","utilisation-des-tenseurs-comme-entres-du-modle"),P(Be,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),P(Be,"href","#utilisation-des-tenseurs-comme-entres-du-modle"),P(ke,"class","relative group")},m(e,c){t(document.head,o),p(e,d,c),F(s,e,c),p(e,m,c),p(e,w,c),t(w,q),t(q,v),F(M,v,null),t(w,C),t(w,k),t(k,A),p(e,L,c),Ge[D].m(e,c),p(e,O,c),Je[x].m(e,c),p(e,y,c),qe.m(e,c),p(e,j,c),p(e,I,c),t(I,f),p(e,b,c),p(e,H,c),t(H,R),t(R,X),F(Y,X,null),t(H,be),t(H,rt),t(rt,es),t(rt,zt),t(zt,ts),p(e,hr,c),p(e,st,c),t(st,rs),p(e,vr,c),Ye[Z].m(e,c),p(e,ot,c),p(e,nt,c),t(nt,ss),p(e,br,c),F(De,e,c),p(e,$r,c),F(xe,e,c),p(e,gr,c),p(e,V,c),t(V,os),t(V,Pt),t(Pt,ns),t(V,ls),t(V,Lt),t(Lt,as),t(V,is),t(V,At),t(At,us),t(V,cs),t(V,Dt),t(Dt,ds),t(V,ps),p(e,Er,c),p(e,$e,c),t($e,we),t(we,xt),F(Ne,xt,null),t($e,ms),t($e,Nt),t(Nt,fs),p(e,kr,c),p(e,lt,c),t(lt,_s),p(e,qr,c),Ke[te].m(e,c),p(e,at,c),p(e,Me,c),t(Me,hs),t(Me,it),t(it,vs),t(Me,bs),p(e,yr,c),p(e,ue,c),t(ue,$s),t(ue,Tt),t(Tt,gs),t(ue,Es),t(ue,Ft),t(Ft,ks),t(ue,qs),p(e,wr,c),Qe[se].m(e,c),p(e,ut,c),p(e,G,c),t(G,ys),t(G,St),t(St,ws),t(G,Ms),t(G,Ot),t(Ot,Cs),t(G,js),t(G,It),t(It,Bs),t(G,zs),t(G,Te),t(Te,Ps),t(G,Ls),p(e,Mr,c),p(e,ce,c),t(ce,As),t(ce,Ht),t(Ht,Ds),t(ce,xs),t(ce,Rt),t(Rt,Ns),t(ce,Ts),p(e,Cr,c),p(e,K,c),t(K,Fs),t(K,Ut),t(Ut,Ss),t(K,Os),t(K,Vt),t(Vt,Is),t(K,Hs),t(K,Gt),t(Gt,Rs),t(K,Us),p(e,jr,c),p(e,Q,c),t(Q,Vs),t(Q,Jt),t(Jt,Gs),t(Q,Js),t(Q,Yt),t(Yt,Ys),t(Q,Ks),t(Q,Fe),t(Fe,Qs),t(Q,Ws),p(e,Br,c),p(e,ge,c),t(ge,Ce),t(Ce,Kt),F(Se,Kt,null),t(ge,Xs),t(ge,Qt),t(Qt,Zs),p(e,zr,c),p(e,de,c),t(de,eo),t(de,Wt),t(Wt,to),t(de,ro),t(de,Xt),t(Xt,so),t(de,oo),p(e,Pr,c),F(Oe,e,c),p(e,Lr,c),p(e,ct,c),t(ct,no),p(e,Ar,c),We[ne].m(e,c),p(e,dt,c),p(e,J,c),t(J,lo),t(J,Zt),t(Zt,ao),t(J,io),t(J,er),t(er,uo),t(J,co),t(J,tr),t(tr,po),t(J,mo),t(J,rr),t(rr,fo),t(J,_o),p(e,Dr,c),ye.m(e,c),p(e,pt,c),p(e,Ee,c),t(Ee,je),t(je,sr),F(Ie,sr,null),t(Ee,ho),t(Ee,or),t(or,vo),p(e,xr,c),p(e,W,c),t(W,bo),t(W,nr),t(nr,$o),t(W,go),t(W,lr),t(lr,Eo),t(W,ko),t(W,ar),t(ar,qo),t(W,yo),p(e,Nr,c),p(e,pe,c),t(pe,wo),t(pe,ir),t(ir,Mo),t(pe,Co),t(pe,ur),t(ur,jo),t(pe,Bo),p(e,Tr,c),p(e,mt,c),t(mt,zo),p(e,Fr,c),F(He,e,c),p(e,Sr,c),p(e,me,c),t(me,Po),t(me,cr),t(cr,Lo),t(me,Ao),t(me,dr),t(dr,Do),t(me,xo),p(e,Or,c),F(Re,e,c),p(e,Ir,c),p(e,ft,c),t(ft,No),p(e,Hr,c),Xe[ae].m(e,c),p(e,_t,c),p(e,ke,c),t(ke,Be),t(Be,pr),F(Ue,pr,null),t(ke,To),t(ke,mr),t(mr,Fo),p(e,Rr,c),p(e,ht,c),t(ht,So),p(e,Ur,c),F(Ve,e,c),p(e,Vr,c),p(e,fe,c),t(fe,Oo),t(fe,fr),t(fr,Io),t(fe,Ho),t(fe,_r),t(_r,Ro),t(fe,Uo),Gr=!0},p(e,[c]){const Ze={};c&1&&(Ze.fw=e[0]),s.$set(Ze);let vt=D;D=Jo(e),D!==vt&&(tt(),$(Ge[vt],1,1,()=>{Ge[vt]=null}),et(),B=Ge[D],B||(B=Ge[D]=Go[D](e),B.c()),g(B,1),B.m(O.parentNode,O));let bt=x;x=Ko(e),x!==bt&&(tt(),$(Je[bt],1,1,()=>{Je[bt]=null}),et(),z=Je[x],z||(z=Je[x]=Yo[x](e),z.c()),g(z,1),z.m(y.parentNode,y)),Jr!==(Jr=Qo(e))&&(qe.d(1),qe=Jr(e),qe&&(qe.c(),qe.m(j.parentNode,j)));let $t=Z;Z=Xo(e),Z!==$t&&(tt(),$(Ye[$t],1,1,()=>{Ye[$t]=null}),et(),ee=Ye[Z],ee||(ee=Ye[Z]=Wo[Z](e),ee.c()),g(ee,1),ee.m(ot.parentNode,ot));let gt=te;te=en(e),te!==gt&&(tt(),$(Ke[gt],1,1,()=>{Ke[gt]=null}),et(),re=Ke[te],re||(re=Ke[te]=Zo[te](e),re.c()),g(re,1),re.m(at.parentNode,at));let ze=se;se=rn(e),se!==ze&&(tt(),$(Qe[ze],1,1,()=>{Qe[ze]=null}),et(),oe=Qe[se],oe||(oe=Qe[se]=tn[se](e),oe.c()),g(oe,1),oe.m(ut.parentNode,ut));let Et=ne;ne=on(e),ne!==Et&&(tt(),$(We[Et],1,1,()=>{We[Et]=null}),et(),le=We[ne],le||(le=We[ne]=sn[ne](e),le.c()),g(le,1),le.m(dt.parentNode,dt)),Yr!==(Yr=nn(e))&&(ye.d(1),ye=Yr(e),ye&&(ye.c(),ye.m(pt.parentNode,pt)));let kt=ae;ae=an(e),ae!==kt&&(tt(),$(Xe[kt],1,1,()=>{Xe[kt]=null}),et(),ie=Xe[ae],ie||(ie=Xe[ae]=ln[ae](e),ie.c()),g(ie,1),ie.m(_t.parentNode,_t))},i(e){Gr||(g(s.$$.fragment,e),g(M.$$.fragment,e),g(B),g(z),g(Y.$$.fragment,e),g(ee),g(De.$$.fragment,e),g(xe.$$.fragment,e),g(Ne.$$.fragment,e),g(re),g(oe),g(Se.$$.fragment,e),g(Oe.$$.fragment,e),g(le),g(Ie.$$.fragment,e),g(He.$$.fragment,e),g(Re.$$.fragment,e),g(ie),g(Ue.$$.fragment,e),g(Ve.$$.fragment,e),Gr=!0)},o(e){$(s.$$.fragment,e),$(M.$$.fragment,e),$(B),$(z),$(Y.$$.fragment,e),$(ee),$(De.$$.fragment,e),$(xe.$$.fragment,e),$(Ne.$$.fragment,e),$(re),$(oe),$(Se.$$.fragment,e),$(Oe.$$.fragment,e),$(le),$(Ie.$$.fragment,e),$(He.$$.fragment,e),$(Re.$$.fragment,e),$(ie),$(Ue.$$.fragment,e),$(Ve.$$.fragment,e),Gr=!1},d(e){r(o),e&&r(d),S(s,e),e&&r(m),e&&r(w),S(M),e&&r(L),Ge[D].d(e),e&&r(O),Je[x].d(e),e&&r(y),qe.d(e),e&&r(j),e&&r(I),e&&r(b),e&&r(H),S(Y),e&&r(hr),e&&r(st),e&&r(vr),Ye[Z].d(e),e&&r(ot),e&&r(nt),e&&r(br),S(De,e),e&&r($r),S(xe,e),e&&r(gr),e&&r(V),e&&r(Er),e&&r($e),S(Ne),e&&r(kr),e&&r(lt),e&&r(qr),Ke[te].d(e),e&&r(at),e&&r(Me),e&&r(yr),e&&r(ue),e&&r(wr),Qe[se].d(e),e&&r(ut),e&&r(G),e&&r(Mr),e&&r(ce),e&&r(Cr),e&&r(K),e&&r(jr),e&&r(Q),e&&r(Br),e&&r(ge),S(Se),e&&r(zr),e&&r(de),e&&r(Pr),S(Oe,e),e&&r(Lr),e&&r(ct),e&&r(Ar),We[ne].d(e),e&&r(dt),e&&r(J),e&&r(Dr),ye.d(e),e&&r(pt),e&&r(Ee),S(Ie),e&&r(xr),e&&r(W),e&&r(Nr),e&&r(pe),e&&r(Tr),e&&r(mt),e&&r(Fr),S(He,e),e&&r(Sr),e&&r(me),e&&r(Or),S(Re,e),e&&r(Ir),e&&r(ft),e&&r(Hr),Xe[ae].d(e),e&&r(_t),e&&r(ke),S(Ue),e&&r(Rr),e&&r(ht),e&&r(Ur),S(Ve,e),e&&r(Vr),e&&r(fe)}}}const Nl={local:"les-modles",sections:[{local:"cration-dun-itransformeri",sections:[{local:"diffrentes-mthodes-de-chargement",title:"Diff\xE9rentes m\xE9thodes de chargement"},{local:"mthodes-de-sauvegarde",title:"M\xE9thodes de sauvegarde"},{local:"utilisation-dun-transformer-pour-linfrence",title:"Utilisation d'un *transformer* pour l'inf\xE9rence"},{local:"utilisation-des-tenseurs-comme-entres-du-modle",title:"Utilisation des tenseurs comme entr\xE9es du mod\xE8le"}],title:"Cr\xE9ation d\u2019un <i>transformer</i>"}],title:"Les mod\xE8les"};function Tl(E,o,d){let s="pt";return _l(()=>{const m=new URLSearchParams(window.location.search);d(0,s=m.get("fw")||"pt")}),[s]}class Ul extends dl{constructor(o){super();pl(this,o,Tl,xl,ml,{})}}export{Ul as default,Nl as metadata};
