import{S as sn,i as rn,s as nn,e as s,k as u,w as g,t as i,M as ln,c as r,d as a,m as h,a as n,x as v,h as p,b as c,F as t,g as o,y as $,q as y,o as b,B as w}from"../chunks/vendor-1b69db54.js";import{T as Gs}from"../chunks/Tip-1ceee8ba.js";import{I as P}from"../chunks/IconCopyLink-b3ba9a38.js";import{C as De}from"../chunks/CodeBlock-40263a9f.js";function on(z){let f,E;return{c(){f=s("p"),E=i("\u{1F917} Accelerate is not saving any of your credentials.")},l(m){f=r(m,"P",{});var d=n(f);E=p(d,"\u{1F917} Accelerate is not saving any of your credentials."),d.forEach(a)},m(m,d){o(m,f,d),t(f,E)},d(m){m&&a(f)}}}function pn(z){let f,E,m,d,S;return{c(){f=s("p"),E=i(`SageMaker doesn\u2019t support argparse actions. If you want to use, for example, boolean hyperparameters, you need to
specify type as bool in your script and provide an explicit True or False value for this hyperparameter. `),m=s("a"),d=i("[REF]"),S=i("."),this.h()},l(_){f=r(_,"P",{});var k=n(f);E=p(k,`SageMaker doesn\u2019t support argparse actions. If you want to use, for example, boolean hyperparameters, you need to
specify type as bool in your script and provide an explicit True or False value for this hyperparameter. `),m=r(k,"A",{href:!0,rel:!0});var x=n(m);d=p(x,"[REF]"),x.forEach(a),S=p(k,"."),k.forEach(a),this.h()},h(){c(m,"href","https://sagemaker.readthedocs.io/en/stable/frameworks/pytorch/using_pytorch.html#prepare-a-pytorch-training-script"),c(m,"rel","nofollow")},m(_,k){o(_,f,k),t(f,E),t(f,m),t(m,d),t(f,S)},d(_){_&&a(f)}}}function cn(z){let f,E,m,d,S;return{c(){f=s("p"),E=i("If you run one of the example scripts, don\u2019t forget to add "),m=s("code"),d=i("accelerator.save('/opt/ml/model')"),S=i(" to it.")},l(_){f=r(_,"P",{});var k=n(f);E=p(k,"If you run one of the example scripts, don\u2019t forget to add "),m=r(k,"CODE",{});var x=n(m);d=p(x,"accelerator.save('/opt/ml/model')"),x.forEach(a),S=p(k," to it."),k.forEach(a)},m(_,k){o(_,f,k),t(f,E),t(f,m),t(m,d),t(f,S)},d(_){_&&a(f)}}}function un(z){let f,E,m,d,S,_,k,x,Ct,Da,C,Dt,pe,Tt,Mt,ce,zt,It,Ta,I,G,We,ue,Nt,Ye,Lt,Ma,N,B,Ge,he,Ht,Be,Ot,za,J,qt,fe,Ft,Rt,Ia,K,Ut,Je,Wt,Yt,Na,me,La,A,Gt,Ke,Bt,Jt,Qe,Kt,Qt,Ve,Vt,Xt,Xe,Zt,es,Ha,de,Oa,Q,as,Ze,ts,ss,qa,L,V,ea,ge,rs,aa,ns,Fa,Te,ls,Ra,ve,Ua,Me,os,Wa,X,Ya,H,Z,ta,$e,is,sa,ps,Ga,D,cs,ra,us,hs,na,fs,ms,Ba,ye,Ja,ee,Ka,O,ae,la,be,ds,oa,gs,Qa,ze,vs,Va,we,Xa,Ie,$s,Za,Ne,ia,ys,et,te,at,_e,tt,Le,bs,st,Ee,rt,q,se,pa,ke,ws,ca,_s,nt,F,re,ua,Ae,Es,ha,ks,lt,He,fa,As,ot,R,ne,ma,je,js,da,Ss,it,Oe,ga,Ps,pt,U,le,va,Se,xs,$a,Cs,ct,j,Ds,ya,Ts,Ms,ba,zs,Is,wa,Ns,Ls,_a,Hs,Os,ut,W,oe,Ea,Pe,qs,ka,Fs,ht,qe,Aa,Rs,ft,Y,ie,ja,xe,Us,Sa,Ws,mt,Fe,Pa,Ys,dt;return _=new P({}),ue=new P({}),he=new P({}),me=new De({props:{code:'pip install "accelerate[sagemaker]" --upgrade',highlighted:'pip install <span class="hljs-string">&quot;accelerate[sagemaker]&quot;</span> --upgrade'}}),de=new De({props:{code:"accelerate",highlighted:'<span class="hljs-attribute">accelerate</span>'}}),ge=new P({}),ve=new De({props:{code:`accelerate config
# In which compute environment are you running? ([0] This machine, [1] AWS (Amazon SageMaker)): 1`,highlighted:`accelerate config
<span class="hljs-comment"># In which compute environment are you running? ([0] This machine, [1] AWS (Amazon SageMaker)): 1</span>`}}),X=new Gs({props:{$$slots:{default:[on]},$$scope:{ctx:z}}}),$e=new P({}),ye=new De({props:{code:"- torch.save('/opt/ml/model`)\n+ accelerator.save('/opt/ml/model')",highlighted:'<span class="hljs-deletion">- torch.save(&#x27;/opt/ml/model`)</span>\n<span class="hljs-addition">+ accelerator.save(&#x27;/opt/ml/model&#x27;)</span>'}}),ee=new Gs({props:{warning:"&lcub;true}",$$slots:{default:[pn]},$$scope:{ctx:z}}}),be=new P({}),we=new De({props:{code:"accelerate launch path_to_script.py --args_to_the_script",highlighted:'accelerate <span class="hljs-built_in">launch</span> path_to_script.py <span class="hljs-comment">--args_to_the_script</span>'}}),te=new Gs({props:{$$slots:{default:[cn]},$$scope:{ctx:z}}}),_e=new De({props:{code:"accelerate launch ./examples/sagemaker_example.py",highlighted:"accelerate launch ./examples/sagemaker_example.py"}}),Ee=new De({props:{code:`Configuring Amazon SageMaker environment
Converting Arguments to Hyperparameters
Creating Estimator
2021-04-08 11:56:50 Starting - Starting the training job...
2021-04-08 11:57:13 Starting - Launching requested ML instancesProfilerReport-1617883008: InProgress
.........
2021-04-08 11:58:54 Starting - Preparing the instances for training.........
2021-04-08 12:00:24 Downloading - Downloading input data
2021-04-08 12:00:24 Training - Downloading the training image..................
2021-04-08 12:03:39 Training - Training image download completed. Training in progress..
........
epoch 0: {'accuracy': 0.7598039215686274, 'f1': 0.8178438661710037}
epoch 1: {'accuracy': 0.8357843137254902, 'f1': 0.882249560632689}
epoch 2: {'accuracy': 0.8406862745098039, 'f1': 0.8869565217391304}
........
2021-04-08 12:05:40 Uploading - Uploading generated training model
2021-04-08 12:05:40 Completed - Training job completed
Training seconds: 331
Billable seconds: 331
You can find your model data at: s3://your-bucket/accelerate-sagemaker-1-2021-04-08-11-56-47-108/output/model.tar.gz`,highlighted:`Configuring Amazon SageMaker environment
Converting Arguments <span class="hljs-keyword">to</span> Hyperparameters
Creating Estimator
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">11</span>:<span class="hljs-number">56</span>:<span class="hljs-number">50</span> Starting - Starting the training job<span class="hljs-params">...</span>
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">11</span>:<span class="hljs-number">57</span>:<span class="hljs-number">13</span> Starting - Launching requested ML instancesProfilerReport<span class="hljs-number">-1617883008</span>: InProgress
<span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">11</span>:<span class="hljs-number">58</span>:<span class="hljs-number">54</span> Starting - Preparing the instances for training<span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">24</span> Downloading - Downloading input <span class="hljs-built_in">data</span>
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">24</span> Training - Downloading the training image<span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span><span class="hljs-params">...</span>
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">12</span>:<span class="hljs-number">03</span>:<span class="hljs-number">39</span> Training - Training image download completed. Training <span class="hljs-keyword">in</span> progress..
<span class="hljs-params">...</span><span class="hljs-params">...</span>..
epoch <span class="hljs-number">0</span>: {<span class="hljs-string">&#x27;accuracy&#x27;</span>: <span class="hljs-number">0.7598039215686274</span>, <span class="hljs-string">&#x27;f1&#x27;</span>: <span class="hljs-number">0.8178438661710037</span>}
epoch <span class="hljs-number">1</span>: {<span class="hljs-string">&#x27;accuracy&#x27;</span>: <span class="hljs-number">0.8357843137254902</span>, <span class="hljs-string">&#x27;f1&#x27;</span>: <span class="hljs-number">0.882249560632689</span>}
epoch <span class="hljs-number">2</span>: {<span class="hljs-string">&#x27;accuracy&#x27;</span>: <span class="hljs-number">0.8406862745098039</span>, <span class="hljs-string">&#x27;f1&#x27;</span>: <span class="hljs-number">0.8869565217391304</span>}
<span class="hljs-params">...</span><span class="hljs-params">...</span>..
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">12</span>:<span class="hljs-number">05</span>:<span class="hljs-number">40</span> Uploading - Uploading generated training model
<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">12</span>:<span class="hljs-number">05</span>:<span class="hljs-number">40</span> Completed - Training job completed
Training seconds: <span class="hljs-number">331</span>
Billable seconds: <span class="hljs-number">331</span>
You can find your model <span class="hljs-built_in">data</span> at: s3:<span class="hljs-comment">//your-bucket/accelerate-sagemaker-1-2021-04-08-11-56-47-108/output/model.tar.gz</span>`}}),ke=new P({}),Ae=new P({}),je=new P({}),Se=new P({}),Pe=new P({}),xe=new P({}),{c(){f=s("meta"),E=u(),m=s("h1"),d=s("a"),S=s("span"),g(_.$$.fragment),k=u(),x=s("span"),Ct=i("Amazon SageMaker"),Da=u(),C=s("p"),Dt=i("Hugging Face and Amazon introduced new "),pe=s("a"),Tt=i("Hugging Face Deep Learning Containers (DLCs)"),Mt=i(` to
make it easier than ever to train Hugging Face Transformer models in `),ce=s("a"),zt=i("Amazon SageMaker"),It=i("."),Ta=u(),I=s("h2"),G=s("a"),We=s("span"),g(ue.$$.fragment),Nt=u(),Ye=s("span"),Lt=i("Getting Started"),Ma=u(),N=s("h3"),B=s("a"),Ge=s("span"),g(he.$$.fragment),Ht=u(),Be=s("span"),Ot=i("Setup & Installation"),za=u(),J=s("p"),qt=i(`Before you can run your \u{1F917} Accelerate scripts on Amazon SageMaker you need to sign up for an AWS account. If you do not
have an AWS account yet learn more `),fe=s("a"),Ft=i("here"),Rt=i("."),Ia=u(),K=s("p"),Ut=i("After you have your AWS Account you need to install the "),Je=s("code"),Wt=i("sagemaker"),Yt=i(" sdk for \u{1F917} Accelerate with."),Na=u(),g(me.$$.fragment),La=u(),A=s("p"),Gt=i("\u{1F917} Accelerate currently uses the \u{1F917} DLCs, with "),Ke=s("code"),Bt=i("transformers"),Jt=i(", "),Qe=s("code"),Kt=i("datasets"),Qt=i(" and "),Ve=s("code"),Vt=i("tokenizers"),Xt=i(` pre-installed. \u{1F917}
Accelerate is not in the DLC yet (will soon be added!) so to use it within Amazon SageMaker you need to create a
`),Xe=s("code"),Zt=i("requirements.txt"),es=i(" in the same directory where your training script is located and add it as dependency."),Ha=u(),g(de.$$.fragment),Oa=u(),Q=s("p"),as=i("You should also add any other dependencies you have to this "),Ze=s("code"),ts=i("requirements.txt"),ss=i("."),qa=u(),L=s("h3"),V=s("a"),ea=s("span"),g(ge.$$.fragment),rs=u(),aa=s("span"),ns=i("Configure \u{1F917} Accelerate"),Fa=u(),Te=s("p"),ls=i(`You can configure the launch configuration for Amazon SageMaker the same as you do for non SageMaker training jobs with
the \u{1F917} Accelerate CLI.`),Ra=u(),g(ve.$$.fragment),Ua=u(),Me=s("p"),os=i("\u{1F917} Accelerate will go through a questionnaire about your Amazon SageMaker setup and create a config file you can edit."),Wa=u(),g(X.$$.fragment),Ya=u(),H=s("h3"),Z=s("a"),ta=s("span"),g($e.$$.fragment),is=u(),sa=s("span"),ps=i("Prepare a \u{1F917} Accelerate fine-tuning script"),Ga=u(),D=s("p"),cs=i(`The training script is very similar to a training script you might run outside of SageMaker, but to save your model
after training you need to specify either `),ra=s("code"),us=i("/opt/ml/model"),hs=i(" or use "),na=s("code"),fs=i('os.environ["SM_MODEL_DIR"]'),ms=i(` as your save
directory. After training, artifacts in this directory are uploaded to S3.`),Ba=u(),g(ye.$$.fragment),Ja=u(),g(ee.$$.fragment),Ka=u(),O=s("h3"),ae=s("a"),la=s("span"),g(be.$$.fragment),ds=u(),oa=s("span"),gs=i("Launch Training"),Qa=u(),ze=s("p"),vs=i("You can launch your training with \u{1F917} Accelerate CLI with"),Va=u(),g(we.$$.fragment),Xa=u(),Ie=s("p"),$s=i(`This will launch your training script using your configuration. The only thing you have to do is provide all the
arguments needed by your training script as named arguments.`),Za=u(),Ne=s("p"),ia=s("strong"),ys=i("Examples"),et=u(),g(te.$$.fragment),at=u(),g(_e.$$.fragment),tt=u(),Le=s("p"),bs=i("Outputs:"),st=u(),g(Ee.$$.fragment),rt=u(),q=s("h2"),se=s("a"),pa=s("span"),g(ke.$$.fragment),ws=u(),ca=s("span"),_s=i("Advanced Features"),nt=u(),F=s("h3"),re=s("a"),ua=s("span"),g(Ae.$$.fragment),Es=u(),ha=s("span"),ks=i("Distributed Training: Data Parallelism"),lt=u(),He=s("p"),fa=s("em"),As=i("currently in development, will be supported soon."),ot=u(),R=s("h3"),ne=s("a"),ma=s("span"),g(je.$$.fragment),js=u(),da=s("span"),Ss=i("Distributed Training: Model Parallelism"),it=u(),Oe=s("p"),ga=s("em"),Ps=i("currently in development, will be supported soon."),pt=u(),U=s("h3"),le=s("a"),va=s("span"),g(Se.$$.fragment),xs=u(),$a=s("span"),Cs=i("Python packages and dependencies"),ct=u(),j=s("p"),Ds=i("\u{1F917} Accelerate currently uses the \u{1F917} DLCs, with "),ya=s("code"),Ts=i("transformers"),Ms=i(", "),ba=s("code"),zs=i("datasets"),Is=i(" and "),wa=s("code"),Ns=i("tokenizers"),Ls=i(` pre-installed. If you
want to use different/other Python packages you can do this by adding them to the `),_a=s("code"),Hs=i("requirements.txt"),Os=i(`. These packages
will be installed before your training script is started.`),ut=u(),W=s("h3"),oe=s("a"),Ea=s("span"),g(Pe.$$.fragment),qs=u(),ka=s("span"),Fs=i("Remote scripts: Use scripts located on Github"),ht=u(),qe=s("p"),Aa=s("em"),Rs=i("undecided if feature is needed. Contact us if you would like this feature."),ft=u(),Y=s("h3"),ie=s("a"),ja=s("span"),g(xe.$$.fragment),Us=u(),Sa=s("span"),Ws=i("Use Spot Instances"),mt=u(),Fe=s("p"),Pa=s("em"),Ys=i("undecided if feature is needed. Contact us if you would like this feature."),this.h()},l(e){const l=ln('[data-svelte="svelte-1phssyn"]',document.head);f=r(l,"META",{name:!0,content:!0}),l.forEach(a),E=h(e),m=r(e,"H1",{class:!0});var Ce=n(m);d=r(Ce,"A",{id:!0,class:!0,href:!0});var xa=n(d);S=r(xa,"SPAN",{});var Ca=n(S);v(_.$$.fragment,Ca),Ca.forEach(a),xa.forEach(a),k=h(Ce),x=r(Ce,"SPAN",{});var Bs=n(x);Ct=p(Bs,"Amazon SageMaker"),Bs.forEach(a),Ce.forEach(a),Da=h(e),C=r(e,"P",{});var Re=n(C);Dt=p(Re,"Hugging Face and Amazon introduced new "),pe=r(Re,"A",{href:!0,rel:!0});var Js=n(pe);Tt=p(Js,"Hugging Face Deep Learning Containers (DLCs)"),Js.forEach(a),Mt=p(Re,` to
make it easier than ever to train Hugging Face Transformer models in `),ce=r(Re,"A",{href:!0,rel:!0});var Ks=n(ce);zt=p(Ks,"Amazon SageMaker"),Ks.forEach(a),It=p(Re,"."),Re.forEach(a),Ta=h(e),I=r(e,"H2",{class:!0});var gt=n(I);G=r(gt,"A",{id:!0,class:!0,href:!0});var Qs=n(G);We=r(Qs,"SPAN",{});var Vs=n(We);v(ue.$$.fragment,Vs),Vs.forEach(a),Qs.forEach(a),Nt=h(gt),Ye=r(gt,"SPAN",{});var Xs=n(Ye);Lt=p(Xs,"Getting Started"),Xs.forEach(a),gt.forEach(a),Ma=h(e),N=r(e,"H3",{class:!0});var vt=n(N);B=r(vt,"A",{id:!0,class:!0,href:!0});var Zs=n(B);Ge=r(Zs,"SPAN",{});var er=n(Ge);v(he.$$.fragment,er),er.forEach(a),Zs.forEach(a),Ht=h(vt),Be=r(vt,"SPAN",{});var ar=n(Be);Ot=p(ar,"Setup & Installation"),ar.forEach(a),vt.forEach(a),za=h(e),J=r(e,"P",{});var $t=n(J);qt=p($t,`Before you can run your \u{1F917} Accelerate scripts on Amazon SageMaker you need to sign up for an AWS account. If you do not
have an AWS account yet learn more `),fe=r($t,"A",{href:!0,rel:!0});var tr=n(fe);Ft=p(tr,"here"),tr.forEach(a),Rt=p($t,"."),$t.forEach(a),Ia=h(e),K=r(e,"P",{});var yt=n(K);Ut=p(yt,"After you have your AWS Account you need to install the "),Je=r(yt,"CODE",{});var sr=n(Je);Wt=p(sr,"sagemaker"),sr.forEach(a),Yt=p(yt," sdk for \u{1F917} Accelerate with."),yt.forEach(a),Na=h(e),v(me.$$.fragment,e),La=h(e),A=r(e,"P",{});var T=n(A);Gt=p(T,"\u{1F917} Accelerate currently uses the \u{1F917} DLCs, with "),Ke=r(T,"CODE",{});var rr=n(Ke);Bt=p(rr,"transformers"),rr.forEach(a),Jt=p(T,", "),Qe=r(T,"CODE",{});var nr=n(Qe);Kt=p(nr,"datasets"),nr.forEach(a),Qt=p(T," and "),Ve=r(T,"CODE",{});var lr=n(Ve);Vt=p(lr,"tokenizers"),lr.forEach(a),Xt=p(T,` pre-installed. \u{1F917}
Accelerate is not in the DLC yet (will soon be added!) so to use it within Amazon SageMaker you need to create a
`),Xe=r(T,"CODE",{});var or=n(Xe);Zt=p(or,"requirements.txt"),or.forEach(a),es=p(T," in the same directory where your training script is located and add it as dependency."),T.forEach(a),Ha=h(e),v(de.$$.fragment,e),Oa=h(e),Q=r(e,"P",{});var bt=n(Q);as=p(bt,"You should also add any other dependencies you have to this "),Ze=r(bt,"CODE",{});var ir=n(Ze);ts=p(ir,"requirements.txt"),ir.forEach(a),ss=p(bt,"."),bt.forEach(a),qa=h(e),L=r(e,"H3",{class:!0});var wt=n(L);V=r(wt,"A",{id:!0,class:!0,href:!0});var pr=n(V);ea=r(pr,"SPAN",{});var cr=n(ea);v(ge.$$.fragment,cr),cr.forEach(a),pr.forEach(a),rs=h(wt),aa=r(wt,"SPAN",{});var ur=n(aa);ns=p(ur,"Configure \u{1F917} Accelerate"),ur.forEach(a),wt.forEach(a),Fa=h(e),Te=r(e,"P",{});var hr=n(Te);ls=p(hr,`You can configure the launch configuration for Amazon SageMaker the same as you do for non SageMaker training jobs with
the \u{1F917} Accelerate CLI.`),hr.forEach(a),Ra=h(e),v(ve.$$.fragment,e),Ua=h(e),Me=r(e,"P",{});var fr=n(Me);os=p(fr,"\u{1F917} Accelerate will go through a questionnaire about your Amazon SageMaker setup and create a config file you can edit."),fr.forEach(a),Wa=h(e),v(X.$$.fragment,e),Ya=h(e),H=r(e,"H3",{class:!0});var _t=n(H);Z=r(_t,"A",{id:!0,class:!0,href:!0});var mr=n(Z);ta=r(mr,"SPAN",{});var dr=n(ta);v($e.$$.fragment,dr),dr.forEach(a),mr.forEach(a),is=h(_t),sa=r(_t,"SPAN",{});var gr=n(sa);ps=p(gr,"Prepare a \u{1F917} Accelerate fine-tuning script"),gr.forEach(a),_t.forEach(a),Ga=h(e),D=r(e,"P",{});var Ue=n(D);cs=p(Ue,`The training script is very similar to a training script you might run outside of SageMaker, but to save your model
after training you need to specify either `),ra=r(Ue,"CODE",{});var vr=n(ra);us=p(vr,"/opt/ml/model"),vr.forEach(a),hs=p(Ue," or use "),na=r(Ue,"CODE",{});var $r=n(na);fs=p($r,'os.environ["SM_MODEL_DIR"]'),$r.forEach(a),ms=p(Ue,` as your save
directory. After training, artifacts in this directory are uploaded to S3.`),Ue.forEach(a),Ba=h(e),v(ye.$$.fragment,e),Ja=h(e),v(ee.$$.fragment,e),Ka=h(e),O=r(e,"H3",{class:!0});var Et=n(O);ae=r(Et,"A",{id:!0,class:!0,href:!0});var yr=n(ae);la=r(yr,"SPAN",{});var br=n(la);v(be.$$.fragment,br),br.forEach(a),yr.forEach(a),ds=h(Et),oa=r(Et,"SPAN",{});var wr=n(oa);gs=p(wr,"Launch Training"),wr.forEach(a),Et.forEach(a),Qa=h(e),ze=r(e,"P",{});var _r=n(ze);vs=p(_r,"You can launch your training with \u{1F917} Accelerate CLI with"),_r.forEach(a),Va=h(e),v(we.$$.fragment,e),Xa=h(e),Ie=r(e,"P",{});var Er=n(Ie);$s=p(Er,`This will launch your training script using your configuration. The only thing you have to do is provide all the
arguments needed by your training script as named arguments.`),Er.forEach(a),Za=h(e),Ne=r(e,"P",{});var kr=n(Ne);ia=r(kr,"STRONG",{});var Ar=n(ia);ys=p(Ar,"Examples"),Ar.forEach(a),kr.forEach(a),et=h(e),v(te.$$.fragment,e),at=h(e),v(_e.$$.fragment,e),tt=h(e),Le=r(e,"P",{});var jr=n(Le);bs=p(jr,"Outputs:"),jr.forEach(a),st=h(e),v(Ee.$$.fragment,e),rt=h(e),q=r(e,"H2",{class:!0});var kt=n(q);se=r(kt,"A",{id:!0,class:!0,href:!0});var Sr=n(se);pa=r(Sr,"SPAN",{});var Pr=n(pa);v(ke.$$.fragment,Pr),Pr.forEach(a),Sr.forEach(a),ws=h(kt),ca=r(kt,"SPAN",{});var xr=n(ca);_s=p(xr,"Advanced Features"),xr.forEach(a),kt.forEach(a),nt=h(e),F=r(e,"H3",{class:!0});var At=n(F);re=r(At,"A",{id:!0,class:!0,href:!0});var Cr=n(re);ua=r(Cr,"SPAN",{});var Dr=n(ua);v(Ae.$$.fragment,Dr),Dr.forEach(a),Cr.forEach(a),Es=h(At),ha=r(At,"SPAN",{});var Tr=n(ha);ks=p(Tr,"Distributed Training: Data Parallelism"),Tr.forEach(a),At.forEach(a),lt=h(e),He=r(e,"P",{});var Mr=n(He);fa=r(Mr,"EM",{});var zr=n(fa);As=p(zr,"currently in development, will be supported soon."),zr.forEach(a),Mr.forEach(a),ot=h(e),R=r(e,"H3",{class:!0});var jt=n(R);ne=r(jt,"A",{id:!0,class:!0,href:!0});var Ir=n(ne);ma=r(Ir,"SPAN",{});var Nr=n(ma);v(je.$$.fragment,Nr),Nr.forEach(a),Ir.forEach(a),js=h(jt),da=r(jt,"SPAN",{});var Lr=n(da);Ss=p(Lr,"Distributed Training: Model Parallelism"),Lr.forEach(a),jt.forEach(a),it=h(e),Oe=r(e,"P",{});var Hr=n(Oe);ga=r(Hr,"EM",{});var Or=n(ga);Ps=p(Or,"currently in development, will be supported soon."),Or.forEach(a),Hr.forEach(a),pt=h(e),U=r(e,"H3",{class:!0});var St=n(U);le=r(St,"A",{id:!0,class:!0,href:!0});var qr=n(le);va=r(qr,"SPAN",{});var Fr=n(va);v(Se.$$.fragment,Fr),Fr.forEach(a),qr.forEach(a),xs=h(St),$a=r(St,"SPAN",{});var Rr=n($a);Cs=p(Rr,"Python packages and dependencies"),Rr.forEach(a),St.forEach(a),ct=h(e),j=r(e,"P",{});var M=n(j);Ds=p(M,"\u{1F917} Accelerate currently uses the \u{1F917} DLCs, with "),ya=r(M,"CODE",{});var Ur=n(ya);Ts=p(Ur,"transformers"),Ur.forEach(a),Ms=p(M,", "),ba=r(M,"CODE",{});var Wr=n(ba);zs=p(Wr,"datasets"),Wr.forEach(a),Is=p(M," and "),wa=r(M,"CODE",{});var Yr=n(wa);Ns=p(Yr,"tokenizers"),Yr.forEach(a),Ls=p(M,` pre-installed. If you
want to use different/other Python packages you can do this by adding them to the `),_a=r(M,"CODE",{});var Gr=n(_a);Hs=p(Gr,"requirements.txt"),Gr.forEach(a),Os=p(M,`. These packages
will be installed before your training script is started.`),M.forEach(a),ut=h(e),W=r(e,"H3",{class:!0});var Pt=n(W);oe=r(Pt,"A",{id:!0,class:!0,href:!0});var Br=n(oe);Ea=r(Br,"SPAN",{});var Jr=n(Ea);v(Pe.$$.fragment,Jr),Jr.forEach(a),Br.forEach(a),qs=h(Pt),ka=r(Pt,"SPAN",{});var Kr=n(ka);Fs=p(Kr,"Remote scripts: Use scripts located on Github"),Kr.forEach(a),Pt.forEach(a),ht=h(e),qe=r(e,"P",{});var Qr=n(qe);Aa=r(Qr,"EM",{});var Vr=n(Aa);Rs=p(Vr,"undecided if feature is needed. Contact us if you would like this feature."),Vr.forEach(a),Qr.forEach(a),ft=h(e),Y=r(e,"H3",{class:!0});var xt=n(Y);ie=r(xt,"A",{id:!0,class:!0,href:!0});var Xr=n(ie);ja=r(Xr,"SPAN",{});var Zr=n(ja);v(xe.$$.fragment,Zr),Zr.forEach(a),Xr.forEach(a),Us=h(xt),Sa=r(xt,"SPAN",{});var en=n(Sa);Ws=p(en,"Use Spot Instances"),en.forEach(a),xt.forEach(a),mt=h(e),Fe=r(e,"P",{});var an=n(Fe);Pa=r(an,"EM",{});var tn=n(Pa);Ys=p(tn,"undecided if feature is needed. Contact us if you would like this feature."),tn.forEach(a),an.forEach(a),this.h()},h(){c(f,"name","hf:doc:metadata"),c(f,"content",JSON.stringify(hn)),c(d,"id","amazon-sagemaker"),c(d,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(d,"href","#amazon-sagemaker"),c(m,"class","relative group"),c(pe,"href","https://github.com/aws/deep-learning-containers/blob/master/available_images.md#huggingface-training-containers"),c(pe,"rel","nofollow"),c(ce,"href","https://aws.amazon.com/sagemaker/"),c(ce,"rel","nofollow"),c(G,"id","getting-started"),c(G,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(G,"href","#getting-started"),c(I,"class","relative group"),c(B,"id","setup-installation"),c(B,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(B,"href","#setup-installation"),c(N,"class","relative group"),c(fe,"href","https://docs.aws.amazon.com/sagemaker/latest/dg/gs-set-up.html"),c(fe,"rel","nofollow"),c(V,"id","configure-accelerate"),c(V,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(V,"href","#configure-accelerate"),c(L,"class","relative group"),c(Z,"id","prepare-a-accelerate-finetuning-script"),c(Z,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(Z,"href","#prepare-a-accelerate-finetuning-script"),c(H,"class","relative group"),c(ae,"id","launch-training"),c(ae,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(ae,"href","#launch-training"),c(O,"class","relative group"),c(se,"id","advanced-features"),c(se,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(se,"href","#advanced-features"),c(q,"class","relative group"),c(re,"id","distributed-training-data-parallelism"),c(re,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(re,"href","#distributed-training-data-parallelism"),c(F,"class","relative group"),c(ne,"id","distributed-training-model-parallelism"),c(ne,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(ne,"href","#distributed-training-model-parallelism"),c(R,"class","relative group"),c(le,"id","python-packages-and-dependencies"),c(le,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(le,"href","#python-packages-and-dependencies"),c(U,"class","relative group"),c(oe,"id","remote-scripts-use-scripts-located-on-github"),c(oe,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(oe,"href","#remote-scripts-use-scripts-located-on-github"),c(W,"class","relative group"),c(ie,"id","use-spot-instances"),c(ie,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),c(ie,"href","#use-spot-instances"),c(Y,"class","relative group")},m(e,l){t(document.head,f),o(e,E,l),o(e,m,l),t(m,d),t(d,S),$(_,S,null),t(m,k),t(m,x),t(x,Ct),o(e,Da,l),o(e,C,l),t(C,Dt),t(C,pe),t(pe,Tt),t(C,Mt),t(C,ce),t(ce,zt),t(C,It),o(e,Ta,l),o(e,I,l),t(I,G),t(G,We),$(ue,We,null),t(I,Nt),t(I,Ye),t(Ye,Lt),o(e,Ma,l),o(e,N,l),t(N,B),t(B,Ge),$(he,Ge,null),t(N,Ht),t(N,Be),t(Be,Ot),o(e,za,l),o(e,J,l),t(J,qt),t(J,fe),t(fe,Ft),t(J,Rt),o(e,Ia,l),o(e,K,l),t(K,Ut),t(K,Je),t(Je,Wt),t(K,Yt),o(e,Na,l),$(me,e,l),o(e,La,l),o(e,A,l),t(A,Gt),t(A,Ke),t(Ke,Bt),t(A,Jt),t(A,Qe),t(Qe,Kt),t(A,Qt),t(A,Ve),t(Ve,Vt),t(A,Xt),t(A,Xe),t(Xe,Zt),t(A,es),o(e,Ha,l),$(de,e,l),o(e,Oa,l),o(e,Q,l),t(Q,as),t(Q,Ze),t(Ze,ts),t(Q,ss),o(e,qa,l),o(e,L,l),t(L,V),t(V,ea),$(ge,ea,null),t(L,rs),t(L,aa),t(aa,ns),o(e,Fa,l),o(e,Te,l),t(Te,ls),o(e,Ra,l),$(ve,e,l),o(e,Ua,l),o(e,Me,l),t(Me,os),o(e,Wa,l),$(X,e,l),o(e,Ya,l),o(e,H,l),t(H,Z),t(Z,ta),$($e,ta,null),t(H,is),t(H,sa),t(sa,ps),o(e,Ga,l),o(e,D,l),t(D,cs),t(D,ra),t(ra,us),t(D,hs),t(D,na),t(na,fs),t(D,ms),o(e,Ba,l),$(ye,e,l),o(e,Ja,l),$(ee,e,l),o(e,Ka,l),o(e,O,l),t(O,ae),t(ae,la),$(be,la,null),t(O,ds),t(O,oa),t(oa,gs),o(e,Qa,l),o(e,ze,l),t(ze,vs),o(e,Va,l),$(we,e,l),o(e,Xa,l),o(e,Ie,l),t(Ie,$s),o(e,Za,l),o(e,Ne,l),t(Ne,ia),t(ia,ys),o(e,et,l),$(te,e,l),o(e,at,l),$(_e,e,l),o(e,tt,l),o(e,Le,l),t(Le,bs),o(e,st,l),$(Ee,e,l),o(e,rt,l),o(e,q,l),t(q,se),t(se,pa),$(ke,pa,null),t(q,ws),t(q,ca),t(ca,_s),o(e,nt,l),o(e,F,l),t(F,re),t(re,ua),$(Ae,ua,null),t(F,Es),t(F,ha),t(ha,ks),o(e,lt,l),o(e,He,l),t(He,fa),t(fa,As),o(e,ot,l),o(e,R,l),t(R,ne),t(ne,ma),$(je,ma,null),t(R,js),t(R,da),t(da,Ss),o(e,it,l),o(e,Oe,l),t(Oe,ga),t(ga,Ps),o(e,pt,l),o(e,U,l),t(U,le),t(le,va),$(Se,va,null),t(U,xs),t(U,$a),t($a,Cs),o(e,ct,l),o(e,j,l),t(j,Ds),t(j,ya),t(ya,Ts),t(j,Ms),t(j,ba),t(ba,zs),t(j,Is),t(j,wa),t(wa,Ns),t(j,Ls),t(j,_a),t(_a,Hs),t(j,Os),o(e,ut,l),o(e,W,l),t(W,oe),t(oe,Ea),$(Pe,Ea,null),t(W,qs),t(W,ka),t(ka,Fs),o(e,ht,l),o(e,qe,l),t(qe,Aa),t(Aa,Rs),o(e,ft,l),o(e,Y,l),t(Y,ie),t(ie,ja),$(xe,ja,null),t(Y,Us),t(Y,Sa),t(Sa,Ws),o(e,mt,l),o(e,Fe,l),t(Fe,Pa),t(Pa,Ys),dt=!0},p(e,[l]){const Ce={};l&2&&(Ce.$$scope={dirty:l,ctx:e}),X.$set(Ce);const xa={};l&2&&(xa.$$scope={dirty:l,ctx:e}),ee.$set(xa);const Ca={};l&2&&(Ca.$$scope={dirty:l,ctx:e}),te.$set(Ca)},i(e){dt||(y(_.$$.fragment,e),y(ue.$$.fragment,e),y(he.$$.fragment,e),y(me.$$.fragment,e),y(de.$$.fragment,e),y(ge.$$.fragment,e),y(ve.$$.fragment,e),y(X.$$.fragment,e),y($e.$$.fragment,e),y(ye.$$.fragment,e),y(ee.$$.fragment,e),y(be.$$.fragment,e),y(we.$$.fragment,e),y(te.$$.fragment,e),y(_e.$$.fragment,e),y(Ee.$$.fragment,e),y(ke.$$.fragment,e),y(Ae.$$.fragment,e),y(je.$$.fragment,e),y(Se.$$.fragment,e),y(Pe.$$.fragment,e),y(xe.$$.fragment,e),dt=!0)},o(e){b(_.$$.fragment,e),b(ue.$$.fragment,e),b(he.$$.fragment,e),b(me.$$.fragment,e),b(de.$$.fragment,e),b(ge.$$.fragment,e),b(ve.$$.fragment,e),b(X.$$.fragment,e),b($e.$$.fragment,e),b(ye.$$.fragment,e),b(ee.$$.fragment,e),b(be.$$.fragment,e),b(we.$$.fragment,e),b(te.$$.fragment,e),b(_e.$$.fragment,e),b(Ee.$$.fragment,e),b(ke.$$.fragment,e),b(Ae.$$.fragment,e),b(je.$$.fragment,e),b(Se.$$.fragment,e),b(Pe.$$.fragment,e),b(xe.$$.fragment,e),dt=!1},d(e){a(f),e&&a(E),e&&a(m),w(_),e&&a(Da),e&&a(C),e&&a(Ta),e&&a(I),w(ue),e&&a(Ma),e&&a(N),w(he),e&&a(za),e&&a(J),e&&a(Ia),e&&a(K),e&&a(Na),w(me,e),e&&a(La),e&&a(A),e&&a(Ha),w(de,e),e&&a(Oa),e&&a(Q),e&&a(qa),e&&a(L),w(ge),e&&a(Fa),e&&a(Te),e&&a(Ra),w(ve,e),e&&a(Ua),e&&a(Me),e&&a(Wa),w(X,e),e&&a(Ya),e&&a(H),w($e),e&&a(Ga),e&&a(D),e&&a(Ba),w(ye,e),e&&a(Ja),w(ee,e),e&&a(Ka),e&&a(O),w(be),e&&a(Qa),e&&a(ze),e&&a(Va),w(we,e),e&&a(Xa),e&&a(Ie),e&&a(Za),e&&a(Ne),e&&a(et),w(te,e),e&&a(at),w(_e,e),e&&a(tt),e&&a(Le),e&&a(st),w(Ee,e),e&&a(rt),e&&a(q),w(ke),e&&a(nt),e&&a(F),w(Ae),e&&a(lt),e&&a(He),e&&a(ot),e&&a(R),w(je),e&&a(it),e&&a(Oe),e&&a(pt),e&&a(U),w(Se),e&&a(ct),e&&a(j),e&&a(ut),e&&a(W),w(Pe),e&&a(ht),e&&a(qe),e&&a(ft),e&&a(Y),w(xe),e&&a(mt),e&&a(Fe)}}}const hn={local:"amazon-sagemaker",sections:[{local:"getting-started",sections:[{local:"setup-installation",title:"Setup & Installation"},{local:"configure-accelerate",title:"Configure \u{1F917} Accelerate"},{local:"prepare-a-accelerate-finetuning-script",title:"Prepare a \u{1F917} Accelerate fine-tuning script"},{local:"launch-training",title:"Launch Training"}],title:"Getting Started"},{local:"advanced-features",sections:[{local:"distributed-training-data-parallelism",title:"Distributed Training: Data Parallelism"},{local:"distributed-training-model-parallelism",title:"Distributed Training: Model Parallelism"},{local:"python-packages-and-dependencies",title:"Python packages and dependencies"},{local:"remote-scripts-use-scripts-located-on-github",title:"Remote scripts: Use scripts located on Github"},{local:"use-spot-instances",title:"Use Spot Instances"}],title:"Advanced Features"}],title:"Amazon SageMaker"};function fn(z,f,E){let{fw:m}=f;return z.$$set=d=>{"fw"in d&&E(0,m=d.fw)},[m]}class $n extends sn{constructor(f){super();rn(this,f,fn,un,nn,{fw:0})}}export{$n as default,hn as metadata};
